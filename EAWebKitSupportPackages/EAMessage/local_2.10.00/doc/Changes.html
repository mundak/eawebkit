<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>


  <title>EAMessage Changes</title>
  <meta content="text/html; charset=us-ascii" http-equiv="Content-Type">

  <meta name="author" content="Paul Pedriana">

  <meta name="description" content="Describes changes between package versions.">


  <style type="text/css">
<!--
.code {		font-family: "Courier New", Courier, mono;
		font-size: 9pt;
}
-->
  </style>
</head>

<body>
<h1>EAMessage Changes</h1>

<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.10.00</span> (unreleased) 
<p/>
Changes
<ul>
  <li>EAMessage now supports being built in PC DLL configurations.</li>
</ul>

<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.09.00</span> (July 22nd, 2013) 
<p>Release notes:
<blockquote>
  <p>This is a major update which adds support for message handlers with their own queues, as described below. Existing usage is unchanged, and the additional support has a very small affect on the Server speed which is likely negligible for the case that queued handlers aren't used. </p>
</blockquote>
<p></p>
Changes
<ul>
  <li>Added support for message handlers with their own queues. The primary use for this is for handlers to process posted messages in their own thread as opposed to the thread that Server::MessagePost was called from. See the in-code documentation for a description of this as well as example code. The unit tests provide additional example code.</li>
  <li>The following classes were added:
    <ul>
      <li class="code">IQueuedHandler : public IHandler{ ... };</li>
      <li class="code"> QueuedHandler : public IQueuedHandler{ ... }; </li>
    </ul>
  </li>
  <li>The following public Server member functions were added:
    <ul>
      <li class="code">void AddQueuedHandler(IQueuedHandler* pHandler, MessageId messageId, bool bRefCounted, int nPriority = kPriorityNormal);</li>
      <li class="code"> bool RemoveQueuedHandler(IQueuedHandler* pHandler, MessageId messageId, int nPriority = kPriorityAny);</li>
    </ul>
  </li>
  <li>A TypeId system was added but disabled. It may be enabled in the future, though likely it will be deleted altogether. </li>
  <li>Added <span class="code">MessageQueue::SetAllocator(EA::Allocator::ICoreAllocator* pCoreAllocator);</span> </li>
  <li>Updated in-code documentation and examples.</li>
  <li>Updated EAMessage.html and EAMessageExtra.html documentation.</li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.08.00</span> (May 6th, 2013) 
<p></p>
Changes
<ul>
  <li>Added support for optional thread safety in EAMessageQueue. </li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.07.00</span> (March 04, 2013) 
<p></p>
Changes
<ul>
  <li>Added a Handler utility class to EAMessageExtra. It allows a single class to have multiple handlers instead of just one, and allows you to avoid inheriting from IHandler in case that's inconvenient.</li>
  <li>Added Server::ReserveMessageIdCapacity(size_t messageIdCount), which allows you to reserve memory up front for handler registration. Suggested by Blake Edwards.</li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.06.01</span> (August 7, 2012) 
<p></p>
Changes
<ul>
  <li>Added new platform support.</li>
</ul>

<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.06.00</span> (July 3, 2012) 
<p></p>
Changes
<ul>
  <li>Added support for WinRT.</li>
</ul>



<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.05.01</span> (May 7, 2012) 
<p></p>
Changes
<ul>
  <li>Updated platform support information.</li>
</ul>

<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.05.00</span> (March 01, 2012) 
<p></p>
Changes
<ul>
  <li>Added Vita Support.</li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.04.07</span> (February 6, 2012) 
<p></p>
Changes
<ul>
  <li>Altered struct member order to put 64 bit values on 64 bit alignment explicitly.</li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.04.06</span> (January 11, 2012) 
<p></p>
Changes
<ul>
  <li>Fixed some header case-sensitivity.</li>
  <li>This version explicitly supports the Freebox platform.</li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.04.05</span> (October 19, 2011) 
<p></p>
Changes
<ul>
  <li>Removed a mutex lock/unlock pair from the Server::ProcessQueue function. In the case of an empty queue there is now just one lock/unlock pair done and not two. If the queue is non-empty then there will still necessarily be a lock/unlock pair for the retrieval of each message from the queue. If you disable multithreading support in the server then there will never be any mutex lock/unlock usage. </li>
  <li>Added ability for a nant user to globally define package.EAMessage.force-static-lib=true, which causes the package to built as a static library even if the build is a DLL build. </li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.04.04</span> (May 4, 2011) 
<p></p>Changes</p>
<ul>
  <li>Changed EAThread Mutex usage to Futex usage.</li>
</ul>
Additions
<ul>
  <li>Added codestripper support.</li>
  <li>Verfied Playbook support</li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.04.03</span> (May 31, 2010) 
<p>Release notes </p>
<ul>
  <li>This version provides updates for mobile platforms and for the CodeWarrior (1.3) and PS3 SN (330) compilers.</li>
</ul>
Changes
<ul>
  <li>Added a print EXIT(n) at the end of the unit tests on wii to support EARunner_Wii; it will indicate to the runner that the test is completed. </li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.04.02</span> (February 7, 2010) <br>
    <br>
  Additions </p>
<ul>
  <li>Added unix and unix64 support (which includes OS X and iPhone support). This mostly entailed fixing a couple compiler warnings/errors. </li>
</ul>
Bug Fixes
<ul>
  <li>&lt;none&gt;</li>
</ul>
Changes
<ul>
  <li>Unit tests no longer depend on UTFFoundation package. </li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.04.01</span> (September 9, 2009) <br>
    <br>
  Additions </p>
<ul>
  <li>&lt;none&gt;</li>
</ul>
Bug Fixes
<ul>
  <li>Fixed missing ctor implementation mistaken copy ctor use in PostedMessagePool. Submitted by Michael Pang. </li>
</ul>
Changes
<ul>
  <li>Converted to usage of &lt;EASTL/core_allocator_adapter.h&gt; instead of &lt;EAMessage/EAMessageCoreAllocator.h&gt;. This may fix some 'operator new' problems for some users. </li>
  <li>Deprecated PostedMessagePool::PostMessage in favor of the name MessagePost, as the former causes collisions with Windows.h. Ditto for MessageCreate and MessageDestroy.</li>
  <li>Added .build file options to control config parameters without modifying code or environment variables. </li>
  <li>Added support for GCC strict aliasing.</li>
  <li>Revised the .build file to expose all significant config defines as user-controllable global properties. </li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.04.00 </span>(February 26, 2008) <br>
    <br>
  Additions </p>
<ul>
  <li>Added SNC compiler compatibility.</li>
  <li>Added EALOCALE_VERSION / EALOCALE_VERSION_N to the definition set. This allows for determining the version at compile time.</li>
</ul>
Bug Fixes
<ul>
  <li>&lt;none&gt;</li>
</ul>
Changes
<ul>
  <li>Added EAMESSAGE_ENABLE_DEFAULT_ALLOCATOR to config.h in order to allow the enabling/disabling of usage of EA::Allocator::ICoreAllocator::GetDefaultAllocator(). The GetDefaultAllocator function wasn't something that was always called; it was called only if you didn't supply an allocator to the message Server. This define disables any usage of GetDefaultAllocator. </li>
  <li>Added printf(&quot;\32&quot;) to end of unit test under PS3 and PS2. This indicates to the SN tools that the app is done.</li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.03.01 </span>(September 6, 2007) <br>
    <br>
  Additions </p>
<ul>
  <li>Added the ability for the user to override memory allocation names. See <font size="-1">EAMESSAGE_ALLOC_PREFIX</font> in Config.h</li>
</ul>
Bug Fixes
<ul>
  <li>Fix for memory leak of message handlers when they are refcounted by the message Server. </li>
</ul>
Changes
<ul>
  <li>Reduced the amount of stack memory used by Server::MessageSend.</li>
  <li>Changed the <font size="-1">EA_MESSAGE_DEFER_ENABLED</font> define to <font size="-1">EAMESSAGE_DEFER_ENABLED</font> but left backwards compatibility. </li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.03.00 </span>(May 4, 2007) <br>
    <br>
  Additions </p>
<ul>
  <li>Added EAMessagePool.h, which allows the user to easily do asynchronous message posting without having to directly worry about memory management, but still do memory management in a conservative controlled way.</li>
  <li>Added Server:: IsHandlerRegistered to match AddHandler and RemoveHandler.</li>
</ul>
Bug Fixes
<ul>
  <li>Fixed CodeWarrior compile warnings of various sorts, plus a linker error regarding operator new.</li>
  <li>Fixed Linux and Cygwin compile errors of various sorts.</li>
</ul>
Changes
<ul>
  <li>Simplied the build files to a single EAMessage.build file. </li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.02.01 </span>(Jan 24, 2007) <br>
    <br>
  Additions </p>
<ul>
  <li>&lt;none&gt;</li>
</ul>
Bug Fixes
<ul>
  <li>Added an additional guard around the use of UTF_USE_EATRACE.</li>
</ul>
Changes
<ul>
  <li>&lt;none&gt;</li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.02.00 </span>(Nov 29, 2006) <br>
    <br>
  Additions </p>
<ul>
  <li>&lt;none&gt;</li>
</ul>
Bug Fixes
<ul>
  <li>Server::SetAllocator fixed to relay the allocator setting to mQueue. It was not doing this and thus if you called Server::SetAllocator the new allocator would not be set on the message queue.</li>
  <li>Fixed bug in Unix / Mac OSX time calculation.</li>
  <li>Fixed potential compiler warnings under VS2005.</li>
</ul>
Changes
<ul>
  <li>&lt;none&gt;</li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;"></span>
<p><span style="font-weight: bold;">Version 2.01.00 </span>(Oct 23, 2006) <br>
  <br>
  Release Notes</p>
<ul>
  <li>This version represents the first formally published version of this package. However, this package has  existed for some time before this publishing and has been in heavy use by some teams for a couple years. </li>
</ul>
<p>Additions </p>
<ul>
    <li>Added Framework 2 / EAConfig / NAnt build files to this package.</li>
    <li>Added ability to switch between the lightweight EAAssert package and the heavier EATrace package.</li>
    <li>Added this Changes.html document. </li>
</ul>
Bug Fixes 
<ul>
    <li>&lt;none&gt;</li>
</ul>
Changes 
<ul>
    <li>&lt;none&gt;</li>
</ul>
<hr style="width: 100%; height: 2px;">
<span style="font-weight: bold;">Earlier versions</span><br>

<br>

Version 2.01.00 (above) is the first version of this package which contained this document. A list of previous changes is not available and is not likely worthwhile, as 2.01.00 is the version published as a formal package. This package has existed for some time before this publishing, however. <br>

<br>

<br>

<hr style="width: 100%; height: 2px;">
End of document<br>

<br>

<br>

<br>

<br>

<br>

<br>

<br>

<br>

<br>

<br>

<br>

<br>

<br>

<br>

<br>

</body>
</html>
